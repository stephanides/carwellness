"use strict";var _baseURI=window.location.protocol+"//"+window.location.host;function mapZilina(){console.log("mapa");var e,t,r={zoom:14,center:new google.maps.LatLng(49.220597,18.740918),mapTypeId:google.maps.MapTypeId.HYBRID};e=function(e){var t=JSON.parse(e),r=new google.maps.StyledMapType(t,{name:"Map"});o.mapTypes.set("styled_map",r),o.setMapTypeId("styled_map")},(t=new XMLHttpRequest).overrideMimeType("application/json"),t.open("GET",window.location.origin+"/assets/js/map.json",!0),t.onreadystatechange=function(){4==t.readyState&&"200"==t.status&&e(t.responseText)},t.send(null);var o=new google.maps.Map(document.getElementById("mapZilina"),r);new google.maps.Marker({position:new google.maps.LatLng(49.220597,18.740918),map:o,title:"CarWellness Žilina",fullscreenControl:!1})}function mapNitra(){console.log("mapa");var e,t,r={center:new google.maps.LatLng(48.306872,18.087049),zoom:14,mapTypeId:google.maps.MapTypeId.HYBRID};e=function(e){var t=JSON.parse(e),r=new google.maps.StyledMapType(t,{name:"Map"});o.mapTypes.set("styled_map",r),o.setMapTypeId("styled_map")},(t=new XMLHttpRequest).overrideMimeType("application/json"),t.open("GET",window.location.origin+"/assets/js/map.json",!0),t.onreadystatechange=function(){4==t.readyState&&"200"==t.status&&e(t.responseText)},t.send(null);var o=new google.maps.Map(document.getElementById("mapNitra"),r);new google.maps.Marker({position:new google.maps.LatLng(48.306872,18.087049),map:o,title:"CarWellness Nitra",fullscreenControl:!1})}document.getElementById("datepicker")&&$(document.getElementById("datepicker")).datepicker({minDate:0,altField:"#actualDate",dateFormat:"dd-mm-yy"}),document.getElementById("timepicker")&&$(document.getElementById("timepicker")).timepicker({timeFormat:"H:i:s"}),document.getElementById("fancybox")&&($(".fancybox").fancybox({cyclic:!0,arrows:!0,infobar:!0,protect:!0,loop:!0,animationEffect:"zoom-in-out"}),document.querySelector(".zoom").onmouseover=function(e){e.currentTarget.classList.add("transition")},document.querySelector(".zoom").onmouseout=function(e){e.currentTarget.classList.remove("transition")});var orderCity=null,orderCarType=null,orderProgram=[!1,!1,!1,!1,!1,!1,!1,!1],orderDate=new Date,orderSum=0,orderName="",orderEmail="",orderTel="",orderMessage="",ordercarTypeDetail="",socket=null;"function"==typeof io&&(socket=io());var orderObjectToSend={city:orderCity,fullName:orderName,email:orderEmail,phone:orderTel,message:orderMessage,carType:orderCarType,carTypeDetail:ordercarTypeDetail,date:orderDate.toISOString(),program:orderProgram},inaccessibleTimeMorningFrom="00:00:00",inaccessibleTimeMorningTo="07:00:00",inaccessibleTimeEveningFrom="21:01:00",inaccessibleTimeEveningTo="23:59:00",timesObjectZilina=[["00:00:00","07:00:00"],["21:01:00","23:59:00"]],timesObjectNitra=[["00:00:00","08:00:00"],["21:01:00","23:59:00"]];function setTimes(e){$(document.getElementById("timepicker")).timepicker("option","disableTimeRanges",e)}function cityForOrder(e){document.getElementById("cityForOrder-2").classList.remove("choosed"),document.getElementById("cityForOrder-1").classList.remove("choosed"),document.getElementById("cityForOrder-2").classList.remove("unlisted"),document.getElementById("cityForOrder-1").classList.remove("unlisted"),document.getElementById("cityForOrder-"+e).classList.add("choosed"),1==e&&(document.getElementById("orderChoosedCity").innerHTML="Autoumyváreň Nitra",setTimes(timesObjectNitra)),2==e&&(document.getElementById("orderChoosedCity").innerHTML="Autoumyváreň Žilina",setTimes(timesObjectZilina)),orderCity=e,document.getElementById("dateContainer").style.pointerEvents="all",document.getElementById("dateDanger").style.display="none",console.log(orderCity);var t=$(document.getElementById("datepicker")).datepicker("getDate");if(null!=t){var r=t.getDay();1==orderCity&&(timesObjectNitra[0]=6===r||0===r?["00:00:00","08:30:00"]:["00:00:00","08:00:00"],setTimes(timesObjectNitra)),2===orderCity&&(timesObjectZilina[0]=6==r||0==r?["00:00:00","08:00:00"]:["00:00:00","07:00:00"],setTimes(timesObjectZilina))}}function carTypeOrder(e){document.getElementById("carTypeOrder-2").classList.remove("choosed"),document.getElementById("carTypeOrder-1").classList.remove("choosed"),document.getElementById("carTypeOrder-2").classList.remove("unlisted"),document.getElementById("carTypeOrder-1").classList.remove("unlisted"),document.getElementById("carTypeOrder-"+e).classList.add("choosed"),1==e&&(document.getElementById("orderChoosedCarType").innerHTML="Auto KLASIK"),2==e&&(document.getElementById("orderChoosedCarType").innerHTML="Auto SUV"),orderCarType=e}function programOrder(e){if("button"!=event.target.type){if(document.getElementById("programOrder-0").classList.remove("unlisted"),document.getElementById("programOrder-"+e).classList.contains("choosed")){switch(document.getElementById("programOrder-"+e).classList.remove("choosed"),document.getElementById("orderChoosedProgram-"+e).classList.remove("d-flex"),orderProgram[e]=!1,e){case 0:orderSum-=30;break;case 1:orderSum-=78;break;case 2:orderSum-=16;break;case 3:orderSum-=21;break;case 4:orderSum-=98;break;case 5:orderSum-=108;break;case 6:orderSum-=58;break;case 7:orderSum-=68}document.getElementById("orderSum").innerHTML=orderSum+" €"}else{switch(document.getElementById("programOrder-"+e).classList.add("choosed"),document.getElementById("orderChoosedProgram-"+e).classList.add("d-flex"),orderProgram[e]=!0,e){case 0:orderSum+=30;break;case 1:orderSum+=78;break;case 2:orderSum+=16;break;case 3:orderSum+=21;break;case 4:orderSum+=98;break;case 5:orderSum+=108;break;case 6:orderSum+=58;break;case 7:orderSum+=68}document.getElementById("orderSum").innerHTML=orderSum+" €"}console.log(orderProgram)}}function removeProgram(e){switch(document.getElementById("programOrder-"+e).classList.remove("choosed"),document.getElementById("orderChoosedProgram-"+e).classList.remove("d-flex"),e){case 0:orderSum-=30;break;case 1:orderSum-=78;break;case 2:orderSum-=16;break;case 3:orderSum-=21;break;case 4:orderSum-=98;break;case 5:orderSum-=108;break;case 6:orderSum-=58;break;case 7:orderSum-=68}document.getElementById("orderSum").innerHTML=orderSum+" €",orderProgram[e]=!1}function orderNameResult(){document.getElementById("orderNameResult").innerHTML=document.getElementById("orderName").value,orderName=document.getElementById("orderName").value,document.getElementById("orderName").classList.remove("unlisted")}function orderEmailResult(){document.getElementById("orderEmailResult").innerHTML=document.getElementById("orderEmail").value,orderEmail=document.getElementById("orderEmail").value,document.getElementById("orderEmail").classList.remove("unlisted")}function orderTelResult(){document.getElementById("orderTelResult").innerHTML=document.getElementById("orderTel").value,orderTel=document.getElementById("orderTel").value,document.getElementById("orderTel").classList.remove("unlisted")}function orderCarTypeResult(){document.getElementById("orderCarTypeResult").innerHTML=document.getElementById("orderCarType").value,ordercarTypeDetail=document.getElementById("orderCarType").value,document.getElementById("orderCarType").classList.remove("unlisted")}var timeObject=[["00:00:00","00:30:00"],["00:30:00","01:00:00"],["01:00:00","01:30:00"],["01:30:00","02:00:00"],["02:00:00","02:30:00"],["02:30:00","03:00:00"],["03:00:00","03:30:00"],["03:30:00","04:00:00"],["04:00:00","04:30:00"],["04:30:00","05:00:00"],["05:00:00","05:30:00"],["05:30:00","06:00:00"],["06:00:00","06:30:00"],["06:30:00","07:00:00"],["07:00:00","07:30:00"],["07:30:00","08:00:00"],["08:00:00","08:30:00"],["08:30:00","09:00:00"],["09:00:00","09:30:00"],["09:30:00","10:00:00"],["10:00:00","10:30:00"],["10:30:00","11:00:00"],["11:00:00","11:30:00"],["11:30:00","12:00:00"],["12:00:00","12:30:00"],["12:30:00","13:00:00"],["13:00:00","13:30:00"],["13:30:00","14:00:00"],["14:00:00","14:30:00"],["14:30:00","15:00:00"],["15:00:00","15:30:00"],["15:30:00","16:00:00"],["16:00:00","16:30:00"],["16:30:00","17:00:00"],["17:00:00","17:30:00"],["17:30:00","18:00:00"],["18:00:00","18:30:00"],["18:30:00","19:00:00"],["19:00:00","19:30:00"],["19:30:00","20:00:00"],["20:00:00","20:30:00"],["20:30:00","21:00:00"],["21:00:00","21:30:00"],["21:30:00","22:00:00"],["22:00:00","22:30:00"],["22:30:00","23:00:00"],["23:00:00","23:30:00"]];function fillObjectsOfTimes(){}function orderDateResult(){console.log(document.getElementById("datepicker").SelectedDate);var e=document.getElementById("datepicker").value,t=e.split("-")[2]+"-"+e.split("-")[1]+"-"+e.split("-")[0]+"T00:00:00.00Z";$.ajax({type:"GET",url:_baseURI+"/availability/availability/"+t+"/"+orderCity,success:function(e){for(var t=0;t<e.data.length;t++)1===orderCity?(timesObjectNitra.push(timeObject[e.data[t].arrN]),setTimes(timesObjectNitra)):2===orderCity&&(timesObjectZilina.push(timeObject[e.data[t].arrN]),setTimes(timesObjectZilina));404===e.status&&console.log("Nenaslo sa nic")},error:function(e){e.status}}),console.log(orderCity),document.getElementById("orderDateResult").innerHTML=document.getElementById("datepicker").value;var r=$("#datepicker").datepicker("getDate").getDay();1===orderCity&&(timesObjectNitra[0]=6===r||0===r?["00:00:00","08:30:00"]:["00:00:00","08:00:00"],setTimes(timesObjectNitra)),2===orderCity&&(timesObjectZilina[0]=6===r||0===r?["00:00:00","08:00:00"]:["00:00:00","07:00:00"],setTimes(timesObjectZilina))}function orderTimeResult(){console.log(document.getElementById("timepicker").value),document.getElementById("orderTimeResult").innerHTML=document.getElementById("timepicker").value}function isProgram(e){return!0===e}function sendOrder(){var e=!0,t=document.getElementById("datepicker").value,r=document.getElementById("timepicker").value;orderDate=t.split("-")[2]+"-"+t.split("-")[1]+"-"+t.split("-")[0]+"T"+r+".00Z",orderMessage=document.getElementById("orderMessage").value,orderObjectToSend.city=orderCity,orderObjectToSend.fullName=orderName,orderObjectToSend.email=orderEmail,orderObjectToSend.phone=orderTel,orderObjectToSend.message=orderMessage,orderObjectToSend.carType=orderCarType,orderObjectToSend.carTypeDetail=ordercarTypeDetail,orderObjectToSend.date=orderDate,orderObjectToSend.program=orderProgram,null==orderCity&&(e=!1,document.getElementById("cityForOrder-2").classList.add("unlisted"),document.getElementById("cityForOrder-1").classList.add("unlisted"),$("html, body").animate({scrollTop:$("#cityForOrder-1").offset().top-140+"px"},"slow")),null==orderCarType&&(e=!1,document.getElementById("carTypeOrder-2").classList.add("unlisted"),document.getElementById("carTypeOrder-1").classList.add("unlisted"),$("html, body").animate({scrollTop:$("#cityForOrder-1").offset().top-140+"px"},"slow")),orderProgram.some(isProgram)||(console.log("nebol vybraty ziaden program"),document.getElementById("programOrder-0").classList.add("unlisted"),$("html, body").animate({scrollTop:$("#cityForOrder-1").offset().top-140+"px"},"slow")),""==orderName&&(e=!1,document.getElementById("orderName").classList.add("unlisted")),""==orderEmail&&(e=!1,document.getElementById("orderEmail").classList.add("unlisted")),""==orderTel&&(e=!1,document.getElementById("orderTel").classList.add("unlisted")),""==ordercarTypeDetail&&(e=!1,document.getElementById("orderCarType").classList.add("unlisted")),""==t&&(e=!1,document.getElementById("datepicker").classList.add("unlisted"),$("html, body").animate({scrollTop:$("#datepicker").offset().top-140+"px"},"slow")),""==r&&(e=!1,document.getElementById("timepicker").classList.add("unlisted"),$("html, body").animate({scrollTop:$("#timepicker").offset().top-140+"px"},"slow")),console.log(e),e&&$.ajax({type:"POST",url:_baseURI+"/order/order-create",data:orderObjectToSend,dataType:"json",success:function(e){e.success&&socket&&(console.log("GOING EMIT SOCKET"),socket.emit("order created"),$(document.getElementById("orderModal")).modal("show"))},error:function(e){console.log(e),$(document.getElementById("orderConflictModal")).modal("show")}})}var claimCity=null,claimName="",claimEmail="",claimTel="",claimImage="",claimMessage="",claimObjectToSend={city:claimCity,fullName:claimName,email:claimEmail,phone:claimTel,image:claimImage,message:claimMessage},claimReady=!1;function cityForClaim(e){document.getElementById("city-1").classList.remove("choosed"),document.getElementById("city-2").classList.remove("choosed"),document.getElementById("city-1").classList.remove("unlisted"),document.getElementById("city-2").classList.remove("unlisted"),document.getElementById("city-"+e).classList.add("choosed"),claimCity=e,claimReady=!0}function sendClaim(){claimName=document.getElementById("claimName").value,claimEmail=document.getElementById("claimEmail").value,claimTel=document.getElementById("claimTel").value,claimMessage=document.getElementById("claimMessage").value,claimObjectToSend.city=claimCity,claimObjectToSend.fullName=claimName,claimObjectToSend.email=claimEmail,claimObjectToSend.phone=claimTel,claimObjectToSend.image=claimImage,claimObjectToSend.message=claimMessage,null==claimCity&&(claimReady=!1,document.getElementById("city-1").classList.add("unlisted"),document.getElementById("city-2").classList.add("unlisted")),document.getElementById("claimName").checkValidity()||(claimReady=!1),document.getElementById("claimEmail").checkValidity()||(claimReady=!1),(claimReady=!!document.getElementById("claimCheckBox").checked)&&$.ajax({type:"POST",url:_baseURI+"/claim/claim-create",data:claimObjectToSend,dataType:"json",success:function(e){console.log(e),socket&&(console.log("GOING EMIT SOCKET"),socket.emit("claim created"),$(document.getElementById("claimModal")).modal("show"))},error:function(e){console.log(e)}})}function sendContact(e){event.preventDefault();for(var t={},r=!1,o=0;o<e.querySelectorAll("input").length;o++)e.querySelectorAll("input")[o].value?t[e.querySelectorAll("input")[o].id]=e.querySelectorAll("input")[o].value:"tel"!=e.querySelectorAll("input")[o].id&&(console.log(e.querySelectorAll("input")[o].id+" is empty"),r=!0);e.querySelector("textarea").value?t[e.querySelector("textarea").id]=e.querySelector("textarea").value:console.log(e.querySelector("textarea").id+" is empty"),r?console.log('Can"t send e-mail'):(console.log(t),$.ajax({type:"POST",url:_baseURI+"/email/send",data:t,dataType:"json",success:function(e){console.log(e),$(document.getElementById("contactModal")).modal("show")},error:function(e){console.log(e)}}))}function imgtobase(){var e=document.querySelector("input[type=file]").files[0],t=new FileReader;t.addEventListener("load",function(){claimImage=t.result},!1),e&&t.readAsDataURL(e)}$(".lazy").lazy();